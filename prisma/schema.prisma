// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id         Int          @id @default(autoincrement())
  email      String?      @unique
  password   String?
  posts      Post[]
  User_roles User_roles[]
}

model Roles {
  id          Int           @id @default(autoincrement())
  name        String?       @unique
  description String
  state       Int?
  User_roles  User_roles[]
  Rutas_roles Rutas_roles[]
}

model User_roles {
  id      Int    @id @default(autoincrement())
  usuario User?  @relation(fields: [userId], references: [id])
  userId  Int?
  perfil  Roles? @relation(fields: [rolId], references: [id])
  rolId   Int?
  state   Int?
}

model Ruta {
  id          Int           @id @default(autoincrement())
  ruta        String?       @unique
  state       Int?
  Rutas_roles Rutas_roles[]
}

model Rutas_roles {
  id     Int    @id @default(autoincrement())
  rutas  Ruta?  @relation(fields: [rutaId], references: [id])
  rutaId Int?
  perfil Roles? @relation(fields: [rolId], references: [id])
  rolId  Int?
  state  Int?
}

model Post {
  id       Int     @id @default(autoincrement())
  title    String?
  body     String
  author   User?   @relation(fields: [authorId], references: [id])
  authorId Int?
}
